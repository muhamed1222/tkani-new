# Описание экрана "Традиционная культура и искусство"

## Общая информация
- **Файл:** `lib/features/respublic/presentation/widgets/culture_detail_widget.dart`
- **Виджет:** `CultureDetailWidget`
- **Тип:** Bottom Sheet (открывается через `DraggableScrollableSheet`)
- **Структура:** Stack с зафиксированными элементами и скроллируемым контентом

## Структура экрана

### 1. Зафиксированные элементы (верхняя часть, не скроллируется)

#### 1.1. Индикатор перетаскивания
- **Расположение:** Вверху экрана, по центру
- **Размеры:** 
  - Ширина: 40px
  - Высота: 4px
- **Стиль:**
  - Цвет: `#BFBFBF` (серый)
  - Скругление углов: 3px
  - Тип: `SmoothContainer`
- **Отступы:**
  - Сверху: 8px (от padding контейнера)
  - Снизу: 26px (до заголовка)

#### 1.2. Заголовок
- **Текст:** "Традиционная культура и искусство"
- **Расположение:** По центру, под индикатором
- **Стиль:**
  - Цвет: `#000000` (черный)
  - Размер шрифта: 20px
  - Начертание: `FontWeight.w600` (полужирный)
  - Высота строки: 1.20 (120%)
  - Выравнивание: по центру
- **Отступы:**
  - Сверху: 26px (от индикатора)
  - Снизу: 28px (до кнопок переключения)

#### 1.3. Кнопки переключения
- **Тип:** Контейнер с двумя кнопками-переключателями
- **Расположение:** Под заголовком, на всю ширину
- **Размеры:**
  - Высота: 44px
  - Ширина: 100% (double.infinity)
- **Стиль контейнера:**
  - Цвет фона: `#F6F6F6` (светло-серый)
  - Скругление углов: 12px
  - Тип: `SmoothContainer`

##### Кнопка "Кабардинцы" (левая)
- **Размеры:** Расширяется на 50% ширины (Expanded)
- **Стиль:**
  - Цвет фона при выборе: `#24A79C` (бирюзовый)
  - Цвет фона без выбора: прозрачный
  - Скругление углов: 12px
  - Padding: 10px со всех сторон
- **Текст:**
  - Цвет при выборе: белый (`Colors.white`)
  - Цвет без выбора: черный (`#000000`)
  - Размер шрифта: 14px
  - Начертание: `FontWeight.w500` (средний)
  - Высота строки: 1.20
- **Функциональность:** При нажатии устанавливает `_selectedButtonIndex = 0`

##### Кнопка "Балкарцы" (правая)
- **Размеры:** Расширяется на 50% ширины (Expanded)
- **Стиль:**
  - Цвет фона при выборе: `#24A79C` (бирюзовый)
  - Цвет фона без выбора: прозрачный
  - Скругление углов: 12px
  - Padding: 10px со всех сторон
- **Текст:**
  - Цвет при выборе: белый (`Colors.white`)
  - Цвет без выбора: черный (`#000000`)
  - Размер шрифта: 14px
  - Начертание: `FontWeight.w500` (средний)
  - Высота строки: 1.20
- **Функциональность:** При нажатии устанавливает `_selectedButtonIndex = 1`

- **Отступы:**
  - Сверху: 28px (от заголовка)
  - Снизу: 16px (до контента)

---

### 2. Скроллируемый контент (нижняя часть)

#### 2.1. Отступ для зафиксированных элементов
- **Высота:** 142px
- **Назначение:** Предотвращает перекрытие контента зафиксированными элементами
- **Расчет:** 
  - Индикатор: 4px
  - Отступ после индикатора: 26px
  - Заголовок: ~24px
  - Отступ после заголовка: 28px
  - Кнопки: 44px
  - Отступ после кнопок: 16px
  - **Итого: ~142px**

#### 2.2. Первый текст (RichText)
- **Тип:** Текст с выделением отдельных фрагментов
- **Стиль основного текста:**
  - Цвет: `#000000` (черный)
  - Размер шрифта: 16px
  - Начертание: `FontWeight.w400` (обычный)
  - Высота строки: 1.20 (120%)
- **Содержание:**
  1. **"Кабардино-Балкария"** - черный цвет
  2. Обычный текст о кулинарной культуре
  3. **"Кабардино-Балкарии"** - выделен цветом `#24A79C` (бирюзовый)
  4. Продолжение текста о хычинах и кафе "Эльбрус"
- **Отступы:**
  - Сверху: 142px (отступ для зафиксированных элементов)
  - Снизу: 16px (до изображения)

#### 2.3. Изображение
- **Путь:** `assets/people.png`
- **Размеры:**
  - Ширина: 100% (double.infinity, адаптивная)
  - Высота: 250px (фиксированная)
- **Стиль контейнера:**
  - Цвет фона: `#F6F6F6` (светло-серый)
  - Скругление углов: 16px
  - Тип: `SmoothContainer`
- **Стиль изображения:**
  - Режим отображения: `BoxFit.cover` (заполнение с обрезкой)
  - Скругление углов: 16px (через `ClipRRect`)
- **Обработка ошибок:**
  - При ошибке загрузки отображается иконка `Icons.image_not_supported`
  - Размер иконки: 48px
  - Цвет иконки: `#24A79C` (бирюзовый)
  - Фон: светло-серый (`Colors.grey[200]`)
- **Отступы:**
  - Сверху: 16px (от текста)
  - Снизу: 16px (до второго текста)

#### 2.4. Второй текст
- **Тип:** Обычный текст
- **Содержание:** Текст о супе из баранины, селе Верхняя Балкария, жарком из ягненка и ресторане "Сосруко" в Терсколе
- **Стиль:**
  - Цвет: `#000000` (черный)
  - Размер шрифта: 16px
  - Начертание: `FontWeight.w400` (обычный)
  - Высота строки: 1.20 (120%)
- **Отступы:**
  - Сверху: 16px (от изображения)
  - Снизу: 24px (отступ снизу для лучшего UX)

---

## Отступы и padding

### Padding контейнера
- **Зафиксированные элементы:**
  - Слева: 14px
  - Справа: 14px
  - Сверху: 8px
- **Скроллируемый контент:**
  - Слева: 14px
  - Справа: 14px

### Вертикальные отступы
- После индикатора: 26px
- После заголовка: 28px
- После кнопок переключения: 16px
- Между текстом и изображением: 16px
- Между изображением и текстом: 16px
- Снизу контента: 24px

---

## Цветовая схема

- **Основной фон:** Белый (`Colors.white`)
- **Цвет акцента:** `#24A79C` (бирюзовый)
  - Используется для выделения текста
  - Используется для активной кнопки переключения
  - Используется для иконки ошибки изображения
- **Цвет текста:** `#000000` (черный)
- **Цвет фона кнопок:** `#F6F6F6` (светло-серый)
- **Цвет индикатора:** `#BFBFBF` (серый)

---

## Функциональность

### Состояние
- `_selectedButtonIndex`: Индекс выбранной кнопки (0 - "Кабардинцы", 1 - "Балкарцы")
- По умолчанию: 0 ("Кабардинцы")

### Взаимодействие
- **Кнопки переключения:** При нажатии изменяют состояние `_selectedButtonIndex`
- **Скроллирование:** Контент прокручивается под зафиксированными элементами
- **DraggableScrollableSheet:** Позволяет перетаскивать bottom sheet вверх/вниз

### Примечания
- **Важно:** В текущей реализации контент не изменяется при переключении между "Кабардинцы" и "Балкарцы". Состояние `_selectedButtonIndex` изменяется, но содержимое остается статичным.
- Это может быть задумано так, или требуется доработка для отображения разного контента в зависимости от выбранной кнопки.

---

## Технические детали

### Типы виджетов
- `ClipPath` - для скругления углов bottom sheet
- `Stack` - для наложения зафиксированных элементов на скроллируемый контент
- `Positioned` - для фиксации элементов вверху экрана
- `SingleChildScrollView` - для прокрутки контента
- `SmoothContainer` - для контейнеров с плавными скруглениями
- `RichText` - для текста с разными стилями
- `Image.asset` - для отображения изображения

### Обработка ошибок
- Изображение имеет `errorBuilder` для отображения иконки при ошибке загрузки
- Используется `ClipRRect` для правильного скругления углов изображения

---

## Визуальная структура

```
┌─────────────────────────────────┐
│ [Индикатор] (зафиксирован)      │ ← 40x4px, серый
│                                 │
│ [Заголовок] (зафиксирован)      │ ← "Традиционная культура и искусство"
│                                 │
│ [Кнопки переключения]           │ ← "Кабардинцы" | "Балкарцы"
│ (зафиксированы)                 │
├─────────────────────────────────┤
│ ↓ (скроллируемый контент)       │
│                                 │
│ [Первый текст с выделением]     │ ← RichText
│                                 │
│ [Изображение]                   │ ← 250px высота, адаптивная ширина
│                                 │
│ [Второй текст]                  │ ← Обычный текст
│                                 │
└─────────────────────────────────┘
```

---

## Резюме

Экран "Традиционная культура и искусство" представляет собой bottom sheet с зафиксированными элементами (индикатор, заголовок, кнопки переключения) и скроллируемым контентом (текст о кулинарной культуре Кабардино-Балкарии, изображение и дополнительный текст). Экран позволяет переключаться между информацией о кабардинцах и балкарцах, хотя в текущей реализации контент не изменяется при переключении.

